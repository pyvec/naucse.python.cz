{% extends "_base.html" %}

{% block style %}
    {% if page.css %}
        {{ page.css }}
    {% endif %}
{% endblock style %}

{% block content %}

<div class="page">
    <div class="container">

        {% if run is defined %}
            <header class="lesson-header">
                <h1>{{ run.title }}</h1>
                <hr>
            </header>
        {% endif %}

        {{ content }}

        <hr class="lesson-end">

        {% if (prv_link is defined and prv_title is defined) or (nxt_link is defined and nxt_title is defined) %}
        <div class="row prev-next">
            {% if prv_link %}
                <div class="col text-left">
                    <a href="{{ lesson_url(('/').join(prv_link.split('/')[:2])) }}">← {{ prv_title }}</a>
                </div>
            {% endif %}

            {% if nxt_link %}
                <div class="col text-right">
                    <a href="{{ lesson_url(('/').join(nxt_link.split('/')[:2])) }}">{{ nxt_title }} →</a>
                </div>
            {% endif %}
        </div>

            <hr>
        {% endif %}

        {% if page.attributions or page.license %}

            <div class="lesson-attribution">
                {% for a in page.attributions %}
                    {{ a | markdown }}
                {% endfor %}
                {% if page.license %}
                    <p>
                        Licence:
                        <a href="{{ page.license.url }}">
                            {{ page.license.title }}
                        </a>
                    </p>
                {% endif %}
            </div>
        {% endif %}

    </div>
</div>

{% endblock content %}
