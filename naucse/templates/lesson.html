{% extends "_base.html" %}

{% block style %}
    {% if session is not defined and page.css %}
        {{ page.css }}
    {% endif %}
{% endblock style %}

{% block content %}

<div class="page">
    <div class="container">

        {% if run is defined %}
            <header class="lesson-header">
                <h1>{{ run.title }}</h1>
                <hr>
            </header>
        {% endif %}

        {% block lesson_content %}
            {{ content }}
        {% endblock %}

        {% if (prv is defined) or (nxt is defined) or (session_link is defined) %}
        <hr class="lesson-end">
        
        <div class="row prev-next">
            {% if prv %}
                <div class="col text-left">
                    <a href="{{ lesson_url(prv.url, page=prv.page) }}">← {{ prv.title }}</a>
                </div>
            {% else %}
                <div class="col text-left"></div>
            {% endif %}

            {% if session_link is defined and session_link != None %}
                <div class="col text-center">
                    <a href="{{ session_url(run, session_link.url) }}">{{ session_link.title }}</a>
                </div>
            {% endif %}

            {% if nxt %}
                <div class="col text-right">
                    <a href="{{ lesson_url(nxt.url, page=nxt.page) }}">{{ nxt.title }}→</a>
                </div>
            {% else %}
                <div class="col text-right"></div>
            {% endif %}
        </div>

        <hr>
        {% endif %}

        {% if session is not defined %}
            {% if page.attributions or page.license %}
                <div class="lesson-attribution">
                    {% for a in page.attributions %}
                        {{ a | markdown }}
                    {% endfor %}
                    {% if page.license %}
                        <p>
                            Licence:
                            <a href="{{ page.license.url }}">
                                {{ page.license.title }}
                            </a>
                        </p>
                    {% endif %}
                </div>
            {% endif %}
        {% endif %}

    </div>
</div>

{% endblock content %}
